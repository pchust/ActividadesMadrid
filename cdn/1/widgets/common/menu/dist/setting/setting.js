System.register(["jimu-core","jimu-ui/advanced/setting-components","jimu-ui","jimu-ui/advanced/resource-selector","jimu-ui/advanced/style-setting-components","jimu-ui/basic/color-picker","jimu-for-builder","jimu-theme"],(function(e,t){var a={},n={},o={},i={},l={},r={},s={},u={};return{setters:[function(e){a.APP_FRAME_NAME_IN_BUILDER=e.APP_FRAME_NAME_IN_BUILDER,a.Immutable=e.Immutable,a.LayoutType=e.LayoutType,a.React=e.React,a.css=e.css,a.getAppStore=e.getAppStore,a.hooks=e.hooks,a.jsx=e.jsx,a.useIntl=e.useIntl},function(e){n.SettingRow=e.SettingRow,n.SettingSection=e.SettingSection},function(e){o.Label=e.Label,o.Radio=e.Radio,o.Select=e.Select,o.Switch=e.Switch,o.TextAlignValue=e.TextAlignValue,o.defaultMessages=e.defaultMessages},function(e){i.IconPicker=e.IconPicker},function(e){l.InputUnit=e.InputUnit,l.NavStyleSettingByState=e.NavStyleSettingByState,l.TextAlignment=e.TextAlignment},function(e){r.ThemeColorPicker=e.ThemeColorPicker},function(e){s.getAppConfigAction=e.getAppConfigAction},function(e){u.getNavigationVariables=e.getNavigationVariables,u.useTheme2=e.useTheme2}],execute:function(){e((()=>{var e={48891:e=>{"use strict";e.exports=a},23137:e=>{"use strict";e.exports=s},34796:e=>{"use strict";e.exports=u},30726:e=>{"use strict";e.exports=o},20663:e=>{"use strict";e.exports=i},77756:e=>{"use strict";e.exports=n},55505:e=>{"use strict";e.exports=l},41362:e=>{"use strict";e.exports=r}},t={};function c(a){var n=t[a];if(void 0!==n)return n.exports;var o=t[a]={exports:{}};return e[a](o,o.exports,c),o.exports}c.d=(e,t)=>{for(var a in t)c.o(t,a)&&!c.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},c.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),c.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.p="";var d={};return c.p=window.jimuConfig.baseUrl,(()=>{"use strict";c.r(d),c.d(d,{__set_webpack_public_path__:()=>b,default:()=>f});var e,t=c(48891),a=c(77756);!function(e){e.Icon="ICON",e.Vertical="VERTICAL",e.Horizontal="HORIZONTAL"}(e||(e={}));var n,o,i,l=c(30726),r=c(20663),s=c(55505),u=c(41362),p=c(23137);!function(e){e[e.BringForward=0]="BringForward",e[e.SendBackward=1]="SendBackward",e[e.BringToFront=2]="BringToFront",e[e.SendToBack=3]="SendToBack"}(n||(n={})),function(e){e.Auto="auto",e[e.Normal=0]="Normal",e[e.BoundaryDropArea=10]="BoundaryDropArea",e[e.DragMoveTip=20]="DragMoveTip",e[e.HandlerTools=30]="HandlerTools",e[e.DraggingItem=40]="DraggingItem"}(o||(o={})),function(e){e.Auto="AUTO",e.Stretch="STRETCH",e.Custom="CUSTOM"}(i||(i={}));var g=c(34796);const{useMemo:v}=t.React,m=(e,a)=>{var n;const o=(0,g.getNavigationVariables)();let i=null===(n=null==o?void 0:o[e])||void 0===n?void 0:n[a];const l={item:{default:{icon:{size:"16px"},size:"14px"},active:{icon:{color:"pills"===a?"var(--white)":"var(--primary)",size:"16px"},size:"14px"},hover:{icon:{color:"var(--primary)",size:"16px"},size:"14px"}}};return"pills"===a&&Object.keys(l.item).forEach((e=>{l.item[e].borderRadius="6.25rem"})),i=i?(0,t.Immutable)(i).merge(l,{deep:!0}):l,i},h={subMenuExpandMode:"Submenu expand mode",mainMenu:"Main menu",subMenu:"Submenu"},x=e=>{var t;return null===(t=null==e?void 0:e.components)||void 0===t?void 0:t.paper},w=t.css`
  .radio-container {
    display: flex;
    width: 100%;
    margin-top: 0.5rem;
    > span.jimu-radio {
      flex-shrink: 0;
      margin-top: 0.1rem;
    }
    > label {
      margin-bottom: 0;
    }
  }
`,f=n=>{var o,c,d,f;const b=t.hooks.useTranslation(h,l.defaultMessages),S=(0,g.useTheme2)(),{config:y,id:j,onSettingChange:I}=n,{vertical:A,type:T,menuStyle:R,variant:C,advanced:M,standard:z}=y,{anchor:k,textAlign:N,icon:B,submenuMode:_,gap:P,showIcon:E}=z||{},H=((e,t,a,n)=>v((()=>a?n:m("nav",t)),[a,n,"nav",t]))(0,R,M,C),L=M?null==y?void 0:y.paper:x(S),O="drawer"===T?e.Icon:A?e.Vertical:e.Horizontal,V=t.React.useMemo((()=>({svg:'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" class="css-1i7frhi jimu-icon"><path d="M2 1a1 1 0 100 2h12a1 1 0 100-2H2zm0-1h12a2 2 0 010 4H2a2 2 0 010-4zm0 7a1 1 0 100 2h12a1 1 0 100-2H2zm0-1h12a2 2 0 010 4H2a2 2 0 010-4zm0 7a1 1 0 100 2h12a1 1 0 100-2H2zm0-1h12a2 2 0 010 4H2a2 2 0 010-4z" fill="currentColor" fill-rule="nonzero"></path></svg>',properties:{color:"var(--dark-800)",size:20,inlineSvg:!0,filename:b("menu")}})),[b]),U=(0,t.useIntl)(),D=t.React.useMemo((()=>{var e;if(!(null===(e=null==B?void 0:B.properties)||void 0===e?void 0:e.filename))return;const t=B.properties.filename;return U.formatMessage({id:t,defaultMessage:h[t]||l.defaultMessages[t]||t})}),[null===(o=null==B?void 0:B.properties)||void 0===o?void 0:o.filename,U]),F=(e,t)=>{I({id:j,config:Array.isArray(e)?y.setIn(e,t):y.set(e,t)})};return(0,t.jsx)("div",{css:w,className:"widget-setting-menu jimu-widget-setting"},(0,t.jsx)(a.SettingSection,null,(0,t.jsx)(a.SettingRow,{label:b("type")},(0,t.jsx)(l.Select,{"aria-label":b("type"),size:"sm",value:O,onChange:a=>{const n=a.target.value,o=n===e.Icon?"drawer":"nav",r=n===e.Icon?"left":"",s=n!==e.Horizontal,u=s?"foldable":"dropdown",c={icon:n===e.Icon?(0,t.Immutable)(V):null,anchor:r,submenuMode:u,textAlign:l.TextAlignValue.CENTER,gap:"0px"},d=y.set("type",o).set("menuStyle","default").set("standard",c).set("advanced",!1).without("variant").without("paper").set("vertical",s);I({id:j,config:d}),(a=>{var n,o,l;let r;const s=(0,t.getAppStore)().getState();r=window.jimuConfig.isBuilder?null==s?void 0:s.appStateInBuilder:s;const u=null===(n=null==r?void 0:r.appRuntimeInfo)||void 0===n?void 0:n.selection,c=null===(o=r.appConfig.layouts)||void 0===o?void 0:o[null==u?void 0:u.layoutId],d=null===(l=null==c?void 0:c.content)||void 0===l?void 0:l[null==u?void 0:u.layoutItemId];if(c&&d&&(null==c?void 0:c.type)===t.LayoutType.FixedLayout){const n=a===e.Vertical,o=a===e.Horizontal,{width:l,height:r}=(t=>{switch(t){case e.Icon:return{width:50,height:50};case e.Vertical:return{width:300,height:300};default:return{width:300,height:50}}})(a),s=(e=>{var a;const n=document.querySelector(`iframe[name="${t.APP_FRAME_NAME_IN_BUILDER}"]`);return n?(null!==(a=n.contentDocument)&&void 0!==a?a:n.contentWindow.document).querySelector(e):null})(`div.layout[data-layoutid=${u.layoutId}]`),{clientWidth:c=100,clientHeight:g=100}=s||{},v=100*l/c+"%",m=100*r/g+"%";(0,p.getAppConfigAction)().editLayoutItemProperty(u,"setting.autoProps",{width:o?i.Custom:i.Auto,height:n?i.Custom:i.Auto}).editLayoutItemProperty(u,"bbox",d.bbox.set("width",v).set("height",m)).exec()}})(n)},style:{width:"50%"}},(0,t.jsx)("option",{value:e.Icon},b("icon")),(0,t.jsx)("option",{value:e.Vertical},b("vertical")),(0,t.jsx)("option",{value:e.Horizontal},b("horizontal")))),"drawer"===T&&(0,t.jsx)(a.SettingRow,{label:b("location"),flow:"no-wrap"},(0,t.jsx)(l.Select,{"aria-label":b("location"),size:"sm",style:{width:"50%"},value:k,onChange:e=>{F(["standard","anchor"],e.target.value)}},(0,t.jsx)("option",{value:"left"},b("left")),(0,t.jsx)("option",{value:"right"},b("right")))),A&&(0,t.jsx)(a.SettingRow,{label:b("subMenuExpandMode"),flow:"wrap"},(0,t.jsx)(l.Select,{"aria-label":b("subMenuExpandMode"),size:"sm",value:_,onChange:e=>{F(["standard","submenuMode"],e.target.value)}},(0,t.jsx)("option",{value:"foldable"},b("foldable")),(0,t.jsx)("option",{value:"static"},b("expand")))),"drawer"===T&&(0,t.jsx)(t.React.Fragment,null,(0,t.jsx)(a.SettingRow,{label:b("icon"),flow:"no-wrap",role:"group","aria-label":b("icon")},(0,t.jsx)(r.IconPicker,{hideRemove:!0,icon:B,customIcons:[V],customLabel:D,previewOptions:{color:!0,size:!1},onChange:e=>{F(["standard","icon"],e)},setButtonUseColor:!1})),(0,t.jsx)(a.SettingRow,{label:b("iconSize"),flow:"no-wrap"},(0,t.jsx)(s.InputUnit,{"aria-label":b("iconSize"),size:"sm",className:"w-50",value:`${null!==(d=null===(c=null==B?void 0:B.properties)||void 0===c?void 0:c.size)&&void 0!==d?d:0}px`,onChange:e=>{F(["standard","icon","properties","size"],e.distance)}})))),(0,t.jsx)(a.SettingSection,{title:b("appearance"),role:"group","aria-label":b("appearance")},(0,t.jsx)(a.SettingRow,{label:b("style"),flow:"wrap",role:"radiogroup","aria-label":b("style")},[{label:b("default"),value:"default"},{label:b("underline"),value:"underline"},{label:b("pills"),value:"pills"}].map(((e,a)=>(0,t.jsx)("div",{className:"radio-container",key:a},(0,t.jsx)(l.Radio,{id:"nav-style-type"+a,style:{cursor:"pointer"},name:"style-type",onChange:t=>{((e,t)=>{if(!e.currentTarget.checked)return;let a=y.set("menuStyle",t).set("advanced",!1).set("variant",null);I({id:j,config:a})})(t,e.value)},checked:R===e.value}),(0,t.jsx)(l.Label,{style:{cursor:"pointer"},for:"nav-style-type"+a,className:"ml-2 text-break"},e.label))))),(0,t.jsx)(a.SettingRow,{label:b("space"),flow:"no-wrap"},(0,t.jsx)(s.InputUnit,{"aria-label":b("space"),size:"sm",className:"w-50",value:P,onChange:e=>{F(["standard","gap"],`${e.distance}${e.unit}`)}})),(0,t.jsx)(a.SettingRow,{flow:"no-wrap",label:b("alignment")},(0,t.jsx)(s.TextAlignment,{"aria-label":b("alignment"),textAlign:N,onChange:e=>{F(["standard","textAlign"],e)}})),(0,t.jsx)(a.SettingRow,{flow:"no-wrap",label:b("showIcon")},(0,t.jsx)(l.Switch,{"aria-label":b("showIcon"),checked:E,onChange:(e,t)=>{F(["standard","showIcon"],t)}}))),(0,t.jsx)(a.SettingSection,null,(0,t.jsx)(a.SettingRow,{flow:"no-wrap",label:b("advance")},(0,t.jsx)(l.Switch,{checked:M,onChange:()=>{const e=!(null==y?void 0:y.advanced);let t=y.set("advanced",e);if(e){const e=m("nav",R),a=x(S);t=t.set("variant",e).set("paper",a)}else t=t.without("variant").without("paper");I({id:j,config:t})},"aria-label":b("advance")})),M&&(0,t.jsx)(t.React.Fragment,null,"drawer"!==T&&(0,t.jsx)(a.SettingRow,{label:b("background"),flow:"no-wrap"},(0,t.jsx)(u.ThemeColorPicker,{"aria-label":b("background"),specificTheme:S,value:null===(f=null==H?void 0:H.root)||void 0===f?void 0:f.bg,onChange:e=>{F(["variant","root","bg"],e)}})),"drawer"===T&&(0,t.jsx)(a.SettingRow,{label:b("background"),flow:"no-wrap"},(0,t.jsx)(u.ThemeColorPicker,{"aria-label":b("background"),specificTheme:S,value:null==L?void 0:L.bg,onChange:e=>{F(["paper","bg"],e)}})),(0,t.jsx)(s.NavStyleSettingByState,{variant:H,onlyBorderColor:"underline"===R,text:!0,icon:!1,iconInText:E,onChange:(e,t,a)=>{F(["variant","item",e,t],a)}}))))};function b(e){c.p=e}})(),d})())}}}));